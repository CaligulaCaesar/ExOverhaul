namespace = ex_sr_deposit_events

event = {
	id = ex_sr_deposit_events.1
	hide_window = yes
	is_triggered_only = yes
	fire_only_once = yes
	
	immediate = {
		every_planet = {
			limit = { 
				is_colonizable = yes			
				has_owner = no
				NOT = { 
					has_planet_flag = strategic_resources_rolled
					is_planet_class = pc_habitat
				}				
				is_ringworld = no
			} 
			if = {
				limit = { 		
					is_ideal_planet_class = no					
					NOT = {	is_planet_class = pc_nuked }					
				}
				every_tile = {
					limit = { has_deposit = no }
					roll_resource_add_regular_1 = yes
					roll_resource_add_regular_2 = yes
					roll_resource_add_regular_3 = yes
				}				
			}			
			if = {
				limit = { is_ideal_planet_class = yes }
				every_tile = {
					limit = { has_deposit = no }
					roll_resource_add_ideal_1 = yes
					roll_resource_add_ideal_2 = yes
					roll_resource_add_ideal_3 = yes
				}				
			}			
			if = {
				limit = { is_planet_class = pc_nuked }
				every_tile = {
					limit = { has_deposit = no }
					roll_resource_add_tomb_1 = yes
					roll_resource_add_tomb_2 = yes
					roll_resource_add_tomb_3 = yes
				}				
			}
			set_planet_flag = strategic_resources_rolled	
		}
	}
}	